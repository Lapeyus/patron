<!DOCTYPE html>
<html lang="es">

	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
	    <meta name="theme-color" content="#e51d53">
	    <!-- Inline favicon (avoids extra requests / 404). -->
	    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%2064%2064%27%3E%3Crect%20width%3D%2764%27%20height%3D%2764%27%20rx%3D%2714%27%20fill%3D%27%23e51d53%27/%3E%3Ctext%20x%3D%2732%27%20y%3D%2743%27%20font-size%3D%2736%27%20font-family%3D%27Arial%2C%20sans-serif%27%20font-weight%3D%27700%27%20text-anchor%3D%27middle%27%20fill%3D%27%23ffffff%27%3EP%3C/text%3E%3C/svg%3E">
	    <title>Catálogo Patrón</title>
	    <link rel="stylesheet" href="styles.css">
	</head>

<body>
    <div id="filters-backdrop" onclick="closeFilters()"></div>
    <aside id="filters">
	        <div class="filters-top">
	            <h2 id="app-title">Comunidad Patrón</h2>
	            <button id="filters-close" class="filters-close" type="button" aria-label="Cerrar filtros" onclick="closeFilters()">&times;</button>
	        </div>
            <div id="filters-content" class="filters-content"></div>
            <div id="filters-footer" class="filters-footer">
                <span class="filters-footer-label" id="filters-lang-label">Idioma</span>
                <select id="langSelect" onchange="setLanguage(this.value)" aria-label="Idioma">
                    <option value="es">ES</option>
                    <option value="en">EN</option>
                </select>
            </div>
    </aside>

    <main>
        <div class="controls">
            <div class="mobile-topbar">
                <div class="brand" aria-label="Patrón">
                    <span class="brand-mark" aria-hidden="true">P</span>
                    <span class="brand-text">
                        <span class="brand-name" id="main-app-title">Comunidad Patrón</span>
                        <span class="brand-subtitle" id="main-app-subtitle">Catálogo</span>
                    </span>
                </div>
                <button id="filters-toggle" class="filters-toggle" type="button" aria-label="Abrir filtros" onclick="openFilters()">Filtros</button>
            </div>
            <input type="search" id="searchInput" placeholder="Buscar..." oninput="requestRender()" inputmode="search" enterkeyhint="search" autocapitalize="none" autocomplete="off">
            <div id="stats"></div>
        </div>
        <div class="grid" id="grid"></div>
    </main>

    <!-- Modal -->
	    <div id="lightbox" onclick="if(event.target===this) closeProfile()">
	        <div class="lb-content">
	            <div id="lb-close-global" onclick="closeProfile()">&times;</div>
	            <div class="lb-media">
                    <div id="lb-discreet" class="lb-discreet" aria-hidden="true"></div>
	                <img id="lb-main-img" src="" style="display:none">
	                <video id="lb-main-video" controls style="display:none" playsinline></video>
                    <button id="lb-nav-left" class="lb-nav lb-nav-left" type="button" aria-label="Mover a la izquierda" onclick="cycleMedia(-1)">‹</button>
                    <button id="lb-nav-right" class="lb-nav lb-nav-right" type="button" aria-label="Mover a la derecha" onclick="cycleMedia(1)">›</button>
	                <div id="lb-thumbs" class="lb-thumbs"></div>
	            </div>
	            <div class="lb-details" id="lb-details-content">
	                <!-- details -->
            </div>
        </div>
    </div>

    <!-- Password gate (blocks catalog load until authenticated) -->
    <div id="auth-overlay" role="dialog" aria-modal="true" aria-label="Autenticación requerida">
        <div class="auth-modal" onclick="event.stopPropagation()">
            <div class="auth-header">
                <h3 id="auth-title">Acceso</h3>
                <select id="auth-lang-select" class="lang-select" onchange="setLanguage(this.value)" aria-label="Idioma">
                    <option value="es">ES</option>
                    <option value="en">EN</option>
                </select>
            </div>
            <div class="auth-body">
                <p class="auth-subtitle" id="auth-subtitle">Ingrese la contraseña para ver el catálogo.</p>
                <form id="auth-form">
                    <input id="auth-password" class="auth-input" type="password" autocomplete="current-password" placeholder="Contraseña" required>
                    <label class="auth-remember">
                        <input id="auth-remember" type="checkbox">
                        <span id="auth-remember-label">Recordar en este dispositivo</span>
                    </label>
                    <div id="auth-error" class="auth-error" aria-live="polite"></div>
                    <button id="auth-submit" class="auth-btn primary" type="submit">Entrar</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Legal disclaimer (shown after authentication) -->
    <div id="disclaimer-overlay" role="dialog" aria-modal="true" aria-label="Aviso legal">
        <div class="disclaimer-modal" onclick="event.stopPropagation()">
            <div class="disclaimer-header">
                <h3 id="disclaimer-title">Aviso legal</h3>
                <div style="display:flex; align-items:center; gap:10px;">
                    <select id="disclaimer-lang-select" class="lang-select" onchange="setLanguage(this.value)" aria-label="Idioma">
                        <option value="es">ES</option>
                        <option value="en">EN</option>
                    </select>
                    <button class="disclaimer-close" id="disclaimer-close" type="button" aria-label="Cerrar">&times;</button>
                </div>
            </div>
            <div class="disclaimer-body">
                <p id="disclaimer-p1">La comunidad y red social denominada "Club Patrón" confirma que todas las personas participantes en la red son mayores de 18 años, actúan de manera voluntaria y están en pleno uso de sus facultades. El operador de este correo electrónico no participa, no media y no obtiene beneficios de los acuerdos realizados por las participantes. Nos oponemos firmemente a la trata de personas, la pornografía infantil y la pedofilia.</p>
                <p id="disclaimer-p2">Se advierte a los miembros y destinatarios de este correo que toda comunicación transmitida mediante este medio está protegida bajo el secreto de las comunicaciones según el artículo 24 de la Constitución. La divulgación, exposición, reenvío o compartición de esta comunicación a terceros sin el debido consentimiento constituye un delito de violación de correspondencia o comunicaciones, tipificado en el artículo 196 del Código Penal.</p>
                <p id="disclaimer-p3">Asimismo, todas las imágenes, actualizaciones o documentos adjuntos a los correos enviados por "Club Patrón" están protegidos bajo derechos reservados de imagen. Cualquier divulgación o uso indebido de estos materiales sin autorización previa puede resultar en un delito de violación de datos personales, conforme al artículo 196 bis del Código Penal.</p>
            </div>
            <div class="disclaimer-footer">
                <button class="disclaimer-btn primary" id="disclaimer-accept" type="button">Entendido</button>
            </div>
        </div>
    </div>

        <script src="app.js"></script>
</body>

</html>
